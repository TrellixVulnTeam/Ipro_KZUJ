{"version":3,"file":"src_app_pages_product-detail_product-detail_module_ts.js","mappings":"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","sources":["./src/app/pages/product-detail/product-detail-routing.module.ts","./src/app/pages/product-detail/product-detail.module.ts","./src/app/pages/product-detail/product-detail.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductDetailPage } from './product-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\n\nimport { ProductDetailPage } from './product-detail.page';\nimport {ShareComponentModule} from '../../components/share-component-module';\nimport { HttpClient } from \"@angular/common/http\";\nimport { TranslateHttpLoader } from \"@ngx-translate/http-loader\";\nimport { TranslateLoader, TranslateModule } from \"@ngx-translate/core\";\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, \"./assets/i18n/\", \".json\");\n}\nimport { ProductDetailPageRoutingModule } from './product-detail-routing.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ShareComponentModule,\n    ProductDetailPageRoutingModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient],\n      },\n    })\n    \n  ],\n  declarations: [ProductDetailPage]\n})\nexport class ProductDetailPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { UtilService } from \"src/app/services/util.service\";\nimport { ApiService } from \"src/app/services/api.service\";\nimport { Router } from '@angular/router';\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { session } from 'src/app/utility/message';\n@Component({\n  selector: 'app-product-detail',\n  templateUrl: './product-detail.page.html',\n  styleUrls: ['./product-detail.page.scss'],\n})\nexport class ProductDetailPage implements OnInit {\ndetail:any= new Object;\nprofile:any;\nionModelOpen:any=false;\nslideOpts = {\n  initialSlide: 0,\n  speed: 400,\n  loop: true,\n  zoom: {\n    \n  }\n};\n\n// availTymOption:any=\"1\";\n\n  constructor( private utility: UtilService,\n    private apiService: ApiService, \n    private router:Router,\n    private _translate: TranslateService,\n    ) { \n  }\n\n  ngOnInit() {\n   // this.getProd();\n  }\n  \n  ionViewWillEnter(){\n    this.getProd();\n    //this.utility.setStorage(session.SELECTED_PLAN,'');\n\n  }\n  async getProd(){\n    this.detail = '';\n    this.detail = JSON.parse(await this.utility.getStorage('Prod'));\n    this.detail[\"availTymSelected\"] = \"1\";\n    this.changeDuration(\"\");\n\n    // console.log( this.detail);\n    //this.detail.avail_runtime =  this.detail.avail_runtime.filter(avtym => console.log(avtym))\n    this.detail['durationDisable'] =true;\n    if(this.detail.your_price != 0){\n     this.detail[\"changedPrice\"] = this.detail.your_price;\n    }\n    else{\n     this.detail[\"changedPrice\"] = this.detail.standard_price;\n    }\n    if(this.detail.added_to_cart.toLowerCase() === 'yes' && this.detail.make_disable.toLowerCase() === 'yes'){\n      this.detail[\"disableCart\"]=true;\n    }\n    else{\n      this.detail[\"disableCart\"]=false;\n    }\n\n    let result: any = await this.apiService.getProfile();\n    if (result.status == 1) {\n      this.profile = result.data.profile ? result.data.profile : null;\n    }\n    \n    // console.log(this.detail);\n\n  }\n\n  // goBack(){\n  //   this.router.navigate([\"/tabs/shop\"]);\n  // }\n\n\n  async removeItem(){\n    let loading = await this.utility.presentLoading();\n    let packageId = {\n      packageId : this.detail.packageId\n    }\n    let response: any = await this.apiService.removeFromCart(packageId);\n    loading.dismiss();\n    if(response.status == 1){\n      this.detail[\"disableCart\"]=false;\n      this.utility.presentToast(\"Product removed from cart\",\"top\");\n       this.utility.getCart('cart');\n    }\n   }\n\n\n  changeDuration(event){\n    if(this.detail.your_price != 0){\n      this.detail.changedPrice = this.detail.your_price * parseInt( this.detail.availTymSelected);\n     }\n     else{\n      this.detail.changedPrice = this.detail.standard_price * parseInt( this.detail.availTymSelected);\n     }\n     console.log(this.detail);\n\n   // this.detail.changedPrice = this.detail.changedPrice * parseInt( this.detail.availTymSelected);\n  }\n\n  \n  async addToCart(){\n //adding to cart\n let body = {\n  packageId:this.detail.packageId,\n  runtime: this.detail.availTymSelected\n }\nlet loading = await this.utility.presentLoading();\n\n  this.apiService.addToCart(body).then((res: any) => {\n    loading.dismiss();\n    if(res.status){\n      this.detail[\"disableCart\"] = true;\n      this.utility.presentToast(this.utility.translateText('MSG').productadded,\"top\");\n      this.utility.getCart('cart');\n      \n    }\n    else{\n      console.log(res.msg)\n      if(res.msg != 'check zipcode first'){\n        this.utility.presentAlert('Warning','',[],res.msg,\n        [{\n          text: this.utility.translateText(\"MODALS\").BUTTONS.GO_TO_SHOP,\n          cssClass: 'secondary',\n          handler: async() => {\n            this.router.navigate([\"/tabs/shop\"]);\n          }\n        }]\n        );\n      }\n     \n    }\n     // console.log(res);\n     //this.router.navigate([\"/tabs/basket\"]);\n  })\n  }\n  async addTobasket(){\n    //checing before adding to cart\n     if(this.detail.packageId == '5'  ){\n      //this.addToCart();\n\n      if(this.profile != null && this.profile.zipCode != ''){\n         this.checkZipcode(this.profile.zipCode);\n      //  this.checkZipcode('99999999');\n      }\n      else{\n        this.utility.presentAlert(\n          \"Alert\",\n          \"\",\n          [\n            {\n              name: 'zipcode',\n              type: 'number',\n              id: 'zipcode',\n              value: '',\n              placeholder: this.utility.translateText(\"MODALS\").BUTTONS.zipcode\n            }\n          ],\n          this.utility.translateText(\"MSG\").zipcode,\n           [{\n              text: this.utility.translateText(\"MODALS\").BUTTONS.OK,\n              handler: async(event) => {\n                console.log(event);\n                if(event.zipcode != ''){\n                  this.checkZipcode(event.zipcode);\n                }\n                else{\n                  this.utility.presentToast( this.utility.translateText(\"MSG\").invalidZip,\"top\");\n                  this.addToCart();\n                  return false;\n                }\n              }\n            }]\n        );\n       \n      }\n     \n     }\n     else{\n         this.addToCart();\n     }\n\n    \n   }\n\n\n  async checkZipcode(zipcodes){\n    let loading = await this.utility.presentLoading();\n    this.apiService\n      .checkZip({\n        zipCode: zipcodes,\n      })\n      .then((res: any) => {\n        loading.dismiss();\n        if (res.status === 0) {\n          this.utility.presentAlert(\n            \"Alert\",\n            \"\",\n            [],\n            this.utility.translateText('MSG').currentlyUnavailable+\",\"+ this.utility.translateText('MSG').stilladded, \n            [\n              {\n                text: this.utility.translateText(\"MODALS\").BUTTONS.OK,\n                handler: async(event) => {\n                  this.addToCart();\n                }\n              }]\n          );\n        } \n        else{\n          this.addToCart();\n        }\n      })\n      .catch((err) => {\n        loading.dismiss();\n      });\n   }\n\n}\n "],"names":[],"sourceRoot":"webpack:///"}