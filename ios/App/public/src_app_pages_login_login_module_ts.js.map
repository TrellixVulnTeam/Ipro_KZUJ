{"version":3,"file":"src_app_pages_login_login_module_ts.js","mappings":"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","sources":["./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Globalization } from '@ionic-native/globalization/ngx';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient],\n      },\n    }),\n    LoginPageRoutingModule,\n  ],\n  declarations: [LoginPage],\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\nimport { Router } from \"@angular/router\";\nimport { MenuController } from \"@ionic/angular\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { ApiService } from \"src/app/services/api.service\";\nimport { UtilService } from \"src/app/services/util.service\";\nimport { message, session } from \"src/app/utility/message\";\nimport { pattern } from \"src/app/utility/pattern\";\n\n@Component({\n  selector: \"app-login\",\n  templateUrl: \"./login.page.html\",\n  styleUrls: [\"./login.page.scss\"],\n})\nexport class LoginPage implements OnInit {\n  form: FormGroup;\n  get formControls() {\n    return this.form.controls;\n  }\n  submitted = false;\n  validationMessage: any;\n\n  constructor(\n    private router: Router,\n    private menuCtrl: MenuController,\n    private _translate: TranslateService,\n    private utility: UtilService,\n    private formBuilder: FormBuilder,\n    private apiService: ApiService\n  ) {}\n  type = \"password\";\n  ionViewDidEnter() {\n    this.menuCtrl.enable(false);\n  }\n  initForm() {\n    this.form = this.formBuilder.group({\n      email: [\n        \"\",\n        [\n          Validators.required,\n         // Validators.pattern(pattern.email),\n          Validators.maxLength(100),\n        ],\n      ],\n      password: [\"\", [Validators.required, Validators.maxLength(100)]],\n    });\n    let messages = this.utility.translateText('MSG')\n    this.validationMessage = {\n      email: [\n        { type: \"required\", message: messages.required },\n        { type: \"pattern\", message: messages.email },\n        { type: \"maxlength\", message: message.maxLength(100 ,messages.maxLength,messages.characters) },\n      ],\n      password: [\n        { type: \"required\", message: messages.required },\n        { type: \"pattern\", message: messages.password },\n        { type: \"maxlength\", message: message.maxLength(100 ,messages.maxLength,messages.characters) },\n      ],\n    };\n  }\n  ngOnInit() {\n    this.initForm();\n    this.menuCtrl.enable(false);\n  }\n\n  changeType() {\n    if (this.type == \"password\") {\n      this.type = \"text\";\n    } else {\n      this.type = \"password\";\n    }\n  }\n  signup() {\n    this.router.navigate([\"/register\"]);\n  }\n  async login() {\n    this.submitted = true;\n    if (this.form.valid && this.utility.checkNetwork()) {\n      this.submitted = false;\n      let params: any = this.form.getRawValue();\n      params['notificationToken'] = this.utility.FCMToken;\n      console.log(params)\n      let loading = await this.utility.presentLoading();\n      this.apiService\n        .loginUser(params) \n        .then((res: any) => {\n          loading.dismiss();\n          if (res.status == 1) {\n            let token = res.jwt;\n            let data = res.data;\n            this.utility.setStorage(session.AUTH_STATUS, 1);\n            this.utility.setStorage(session.AUTH_TOKEN, token);\n            this.utility.setStorage(session.AUTH_USER, JSON.stringify(data));\n            this.utility.userRole=data.userRole;\n            this.utility.setStorage('userRole',data.userLevelStatus);\n            this.utility.setStorage('firstLogin', new Date());\n            if(data.userRole == 'Prospect'){\n                   this.utility.checkQuestionaire();\n             // this.utility.goNext([\"/tabs/area-of-interest\"]);\n             // this.router.navigate([\"/tabs/area-of-interest\"]);\n            }\n            else{\n              let dash;\n              // if(data.defaultDashboard != undefined && data.defaultDashboard != '' && data.defaultDashboard != null){\n              //   dash = data.defaultDashboard;\n              // }\n             \n              // else{\n                dash = data.userLevelStatus;\n              // }\n              this.utility.setStorage('CHANGE_DASH',dash);\n              this.utility.goNext([\"/tabs/dashboard/\"+dash])\n            }\n          } else {\n            this.utility.presentToast(res.msg,\"bottom\");\n          }\n        })\n        .catch((err: any) => {\n          console.log(err);\n          loading.dismiss();\n        });\n      console.log(params);\n    }\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}