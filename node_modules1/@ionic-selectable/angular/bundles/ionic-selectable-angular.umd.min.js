!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/common"),require("@ionic-selectable/core/loader"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@ionic-selectable/angular",["exports","@angular/core","rxjs","@angular/common","@ionic-selectable/core/loader","@angular/forms"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["ionic-selectable"]=e["ionic-selectable"]||{},e["ionic-selectable"].angular={}),e.ng.core,e.rxjs,e.ng.common,e.loader,e.ng.forms)}(this,(function(e,t,i,n,r,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};Object.create;function l(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}Object.create;function s(e){return function(t){var i,n,r;return e.inputs&&(i=t,n=e.inputs,r=i.prototype,n.forEach((function(e){Object.defineProperty(r,e,{get:function(){return this.el[e]},set:function(t){var i=this;this.z.runOutsideAngular((function(){return i.el[e]=t}))}})}))),e.methods&&function(e,t){var i=e.prototype;t.forEach((function(e){i[e]=function(){var t=this,i=arguments;return this.z.runOutsideAngular((function(){return t.el[e].apply(t.el,i)}))}}))}(t,e.methods),t}}var u=function(e,t){this.templateRef=e,this.viewContainer=t};u.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableItemTemplate]"}]}],u.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var p=function(e,t){this.templateRef=e,this.viewContainer=t};p.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableAddItemTemplate]"}]}],p.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var d=function(e,t){this.templateRef=e,this.viewContainer=t};d.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableCloseButtonTemplate]"}]}],d.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var m=function(e,t){this.templateRef=e,this.viewContainer=t};m.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableFooterTemplate]"}]}],m.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var h=function(e,t){this.templateRef=e,this.viewContainer=t};h.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableGroupEndTemplate]"}]}],h.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var f=function(e,t){this.templateRef=e,this.viewContainer=t};f.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableGroupTemplate]"}]}],f.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var v=function(e,t){this.templateRef=e,this.viewContainer=t};v.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableHeaderTemplate]"}]}],v.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var y=function(e,t){this.templateRef=e,this.viewContainer=t};y.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableIconTemplate]"}]}],y.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var b=function(e,t){this.templateRef=e,this.viewContainer=t};b.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableItemEndTemplate]"}]}],b.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var g=function(e,t){this.templateRef=e,this.viewContainer=t};g.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableItemIconTemplate]"}]}],g.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var C=function(e,t){this.templateRef=e,this.viewContainer=t};C.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableMessageTemplate]"}]}],C.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var T=function(e,t){this.templateRef=e,this.viewContainer=t};T.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectablePlaceholderTemplate]"}]}],T.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var S=function(e,t){this.templateRef=e,this.viewContainer=t};S.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableSearchFailTemplate]"}]}],S.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var I=function(e,t){this.templateRef=e,this.viewContainer=t};I.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableTitleTemplate]"}]}],I.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]};var D=function(e,t){this.templateRef=e,this.viewContainer=t};D.decorators=[{type:t.Directive,args:[{selector:"[ionicSelectableValueTemplate]"}]}],D.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]},e.IonicSelectableComponent=function(){function e(e,t,n){var r,o;this.elementRef=e,this.z=t,this.viewContainerRef=n,this.refMap=new WeakMap,this.el=this.elementRef.nativeElement,this.el.templateRender=this.render.bind(this),this.el.hasTemplateRender=this.hasTemplate.bind(this),r=this,o=this.el,["infiniteScrolled","searching","searchFailed","searchSuccessed","itemAdding","cleared","changed","itemsChanged","selected","opened","closed","focused","blurred"].forEach((function(e){return r[e]=i.fromEvent(o,e)}))}return e.prototype.render=function(e,t){var i=this;this.z.run((function(){if("addItem"===t.type){if(!e)return void(i.refAddItem=null);i.refAddItem?i.updateEmbeddedView(e,t):i.createEmbeddedView(e,t)}else{if(!e.isConnected&&e.firstElementChild)return void i.refMap.delete(e);i.refMap.get(e)?i.updateEmbeddedView(e,t):i.createEmbeddedView(e,t)}}))},e.prototype.createEmbeddedView=function(e,t){var i=this.viewContainerRef.createEmbeddedView(this.getComponent(t.type),{$implicit:t.value,isItemSelected:t.isItemSelected,isItemDisabled:t.isItemDisabled,isAdd:t.isAdd,type:t.type}),n=R(i);e.appendChild(n),"addItem"===t.type?(n.classList.add("ion-page"),this.refAddItem=i):this.refMap.set(e,i),i.detectChanges()},e.prototype.updateEmbeddedView=function(e,t){var i="addItem"===t.type?this.refAddItem:this.refMap.get(e),n=i.context;if(t.type!==n.type)return e.removeChild(e.lastChild),void this.createEmbeddedView(e,t);n.$implicit=t.value,n.isItemSelected=t.isItemSelected,n.isItemDisabled=t.isItemDisabled,n.isAdd=t.isAdd,i.detectChanges()},e.prototype.hasTemplate=function(e){switch(e){case"addItem":return!!this.ionicSelectableAddItemTemplateDirective;case"closeButton":return!!this.ionicSelectableCloseButtonTemplateDirective;case"footer":return!!this.ionicSelectableFooterTemplateDirective;case"groupEnd":return!!this.ionicSelectableGroupEndTemplateDirective;case"group":return!!this.ionicSelectableGroupTemplateDirective;case"header":return!!this.ionicSelectableHeaderTemplateDirective;case"icon":return!!this.ionicSelectableIconTemplateDirective;case"item":return!!this.ionicSelectableItemTemplateDirective;case"itemEnd":return!!this.ionicSelectableItemEndTemplateDirective;case"itemIcon":return!!this.ionicSelectableItemIconTemplateDirective;case"message":return!!this.ionicSelectableMessageTemplateDirective;case"placeholder":return!!this.ionicSelectablePlaceholderTemplateDirective;case"searchFail":return!!this.ionicSelectableSearchFailTemplateDirective;case"title":return!!this.ionicSelectableTitleTemplateDirective;case"value":return!!this.ionicSelectableValueTemplateDirective;default:return!1}},e.prototype.getComponent=function(e){switch(e){case"addItem":return this.ionicSelectableAddItemTemplateDirective.templateRef;case"closeButton":return this.ionicSelectableCloseButtonTemplateDirective.templateRef;case"footer":return this.ionicSelectableFooterTemplateDirective.templateRef;case"groupEnd":return this.ionicSelectableGroupEndTemplateDirective.templateRef;case"group":return this.ionicSelectableGroupTemplateDirective.templateRef;case"header":return this.ionicSelectableHeaderTemplateDirective.templateRef;case"icon":return this.ionicSelectableIconTemplateDirective.templateRef;case"item":return this.ionicSelectableItemTemplateDirective.templateRef;case"itemEnd":return this.ionicSelectableItemEndTemplateDirective.templateRef;case"itemIcon":return this.ionicSelectableItemIconTemplateDirective.templateRef;case"message":return this.ionicSelectableMessageTemplateDirective.templateRef;case"placeholder":return this.ionicSelectablePlaceholderTemplateDirective.templateRef;case"searchFail":return this.ionicSelectableSearchFailTemplateDirective.templateRef;case"title":return this.ionicSelectableTitleTemplateDirective.templateRef;case"value":return this.ionicSelectableValueTemplateDirective.templateRef;default:throw new Error("template for "+e+" was not provided")}},e}(),e.IonicSelectableComponent.decorators=[{type:t.Component,args:[{selector:"ionic-selectable",changeDetection:t.ChangeDetectionStrategy.OnPush,template:"<ng-content></ng-content>",inputs:["isOpened","isDisabled","placeholder","closeButtonText","closeButtonSlot","itemIconSlot","confirmButtonText","clearButtonText","addButtonText","name","selectedText","isMultiple","value","shouldStoreItemValue","items","disabledItems","itemValueField","itemTextField","shouldBackdropClose","modalCssClass","modalEnterAnimation","modalLeaveAnimation","titleText","groupValueField","groupTextField","hasInfiniteScroll","infiniteScrollThreshold","hasVirtualScroll","virtualScrollApproxHeaderHeight","virtualScrollApproxItemHeight","hasConfirmButton","canAddItem","canClear","canSearch","shouldDelegateSearchToEvent","searchDebounce","searchPlaceholder","searchText","shouldFocusSearchbar","hasSearchText","searchCancelButtonIcon","searchCancelButtonText","searchClearIcon","searchInputmode","searchIcon","searchShowCancelButton","isConfirmButtonEnabled","headerColor","groupColor","virtualScrollHeaderFn"]}]}],e.IonicSelectableComponent.ctorParameters=function(){return[{type:t.ElementRef},{type:t.NgZone},{type:t.ViewContainerRef}]},e.IonicSelectableComponent.propDecorators={ionicSelectableAddItemTemplateDirective:[{type:t.ContentChild,args:[p,{static:!1}]}],ionicSelectableCloseButtonTemplateDirective:[{type:t.ContentChild,args:[d,{static:!1}]}],ionicSelectableFooterTemplateDirective:[{type:t.ContentChild,args:[m,{static:!1}]}],ionicSelectableGroupEndTemplateDirective:[{type:t.ContentChild,args:[h,{static:!1}]}],ionicSelectableGroupTemplateDirective:[{type:t.ContentChild,args:[f,{static:!1}]}],ionicSelectableHeaderTemplateDirective:[{type:t.ContentChild,args:[v,{static:!1}]}],ionicSelectableIconTemplateDirective:[{type:t.ContentChild,args:[y,{static:!1}]}],ionicSelectableItemEndTemplateDirective:[{type:t.ContentChild,args:[b,{static:!1}]}],ionicSelectableItemIconTemplateDirective:[{type:t.ContentChild,args:[g,{static:!1}]}],ionicSelectableItemTemplateDirective:[{type:t.ContentChild,args:[u,{static:!1}]}],ionicSelectableMessageTemplateDirective:[{type:t.ContentChild,args:[C,{static:!1}]}],ionicSelectablePlaceholderTemplateDirective:[{type:t.ContentChild,args:[T,{static:!1}]}],ionicSelectableSearchFailTemplateDirective:[{type:t.ContentChild,args:[S,{static:!1}]}],ionicSelectableTitleTemplateDirective:[{type:t.ContentChild,args:[I,{static:!1}]}],ionicSelectableValueTemplateDirective:[{type:t.ContentChild,args:[D,{static:!1}]}]},e.IonicSelectableComponent=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}([s({inputs:["isOpened","isDisabled","placeholder","closeButtonText","closeButtonSlot","itemIconSlot","confirmButtonText","clearButtonText","addButtonText","name","selectedText","isMultiple","value","shouldStoreItemValue","items","disabledItems","itemValueField","itemTextField","shouldBackdropClose","modalCssClass","modalEnterAnimation","modalLeaveAnimation","titleText","groupValueField","groupTextField","hasInfiniteScroll","infiniteScrollThreshold","hasVirtualScroll","virtualScrollApproxHeaderHeight","virtualScrollApproxItemHeight","hasConfirmButton","canAddItem","canClear","canSearch","shouldDelegateSearchToEvent","searchDebounce","searchPlaceholder","searchText","shouldFocusSearchbar","hasSearchText","searchCancelButtonIcon","searchCancelButtonText","searchClearIcon","searchInputmode","searchIcon","searchShowCancelButton","isConfirmButtonEnabled","headerColor","groupColor","virtualScrollHeaderFn"],methods:["hasValue","open","close","getItemsToConfirm","confirm","clear","enableInfiniteScroll","disableInfiniteScroll","endInfiniteScroll","scrollToTop","scrollToBottom","startSearch","endSearch","showLoading","hideLoading","addItem","deleteItem","toggleItems","showAddItemTemplate","hideAddItemTemplate",""]})],e.IonicSelectableComponent);var R=function(e){for(var t=e.rootNodes,i=0;i<t.length;i++)if(1===t[i].nodeType)return t[i];throw new Error("element was not created")},w=function(e){return"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)},E=!1,A=function(e,t){return function(){var i=e.defaultView;if(i&&"undefined"!=typeof window){E&&console.warn("IonicSelectable Angular was already initialized. Make sure IonicSelectableModule.forRoot() is just called once."),E=!0;var n="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return r.applyPolyfills().then((function(){return r.defineCustomElements(i,{syncQueue:!0,raf:w,jmp:function(e){return t.runOutsideAngular(e)},ael:function(e,t,i,r){e[n](t,i,r)},rel:function(e,t,i,n){e.removeEventListener(t,i,n)}})}))}}},V=function(){function e(e,t){this.injector=e,this.el=t,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this.el.nativeElement.value=this.lastValue=null==e?"":e,x(this.el)},e.prototype.handleChangeEvent=function(e,t){e===this.el.nativeElement&&(t!==this.lastValue&&(this.lastValue=t,this.onChange(t)),x(this.el))},e.prototype._handleBlurEvent=function(e){e===this.el.nativeElement&&(this.onTouched(),x(this.el))},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.el.nativeElement.disabled=e},e.prototype.ngOnDestroy=function(){this.statusChanges&&this.statusChanges.unsubscribe()},e.prototype.ngAfterViewInit=function(){var e,t=this;try{e=this.injector.get(o.NgControl)}catch(e){}if(e){e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe((function(){return x(t.el)})));var i=e.control;if(i){["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach((function(e){if(i[e]){var n=i[e].bind(i);i[e]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];n.apply(void 0,c(e)),x(t.el)}}}))}}},e}();V.propDecorators={_handleBlurEvent:[{type:t.HostListener,args:["blurred",["$event.target"]]}]};var x=function(e){w((function(){var t=e.nativeElement,i=_(t);P(t,i);var n=t.closest("ion-item");n&&P(n,i)}))},_=function(e){for(var t=e.classList,i=[],n=0;n<t.length;n++){var r=t.item(n);null!==r&&B(r,"ng-")&&i.push("ion-"+r.substr(3))}return i},P=function(e,t){var i=e.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach((function(e){return i.remove(e)})),t.forEach((function(e){return i.add(e)}))},B=function(e,t){return e.substr(0,t.length)===t},F=function(e){function t(t,i){return e.call(this,t,i)||this}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t.prototype._handleChangeEvent=function(e){this.handleChangeEvent(e,e.value)},t}(V);F.decorators=[{type:t.Directive,args:[{selector:"ionic-selectable",providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:F,multi:!0}]}]}],F.ctorParameters=function(){return[{type:t.Injector},{type:t.ElementRef}]},F.propDecorators={_handleChangeEvent:[{type:t.HostListener,args:["changed",["$event.target"]]}]};var O=[e.IonicSelectableComponent,F,p,d,m,h,f,v,y,b,g,u,C,T,S,I,D],j=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[{provide:t.APP_INITIALIZER,useFactory:A,multi:!0,deps:[n.DOCUMENT,t.NgZone]}]}},e}();j.decorators=[{type:t.NgModule,args:[{declarations:O,exports:O,imports:[n.CommonModule]}]}],e.IonicSelectableModule=j,e.ɵa=s,e.ɵb=p,e.ɵd=d,e.ɵe=m,e.ɵf=h,e.ɵg=f,e.ɵh=v,e.ɵi=y,e.ɵj=b,e.ɵk=g,e.ɵl=u,e.ɵm=C,e.ɵn=T,e.ɵo=S,e.ɵp=I,e.ɵq=D,e.ɵr=F,e.ɵs=V,e.ɵt=A,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ionic-selectable-angular.umd.min.js.map